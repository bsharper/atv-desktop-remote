<!DOCTYPE html>
<meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline' 'unsafe-eval';">
<html>

<head>
    <meta charset="UTF-8">
    <title>ATV Remote</title>
    <link rel="stylesheet" href="css/loaders.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/pure-min.css">
    <link rel="stylesheet" href="css/all.css">
    <link rel="stylesheet" id="s2style-sheet" href="css/select2-inverted.css">
    <script>
        window.jQuery = window.$ = require('jquery');
        require('./js/select2.min.js')($)
    </script>
    <script src="js/tippy-headless.umd.min.js"></script>
    <script src="js/loader.js"></script>


    <body>
        <div class="pure-g">
            <div class="pure-u-1-2">
                <div id="alwaysOnTopWrapper">
                    <span class="keyTextAlt">H - hide window</span>
                    <!-- <input id="alwaysOnTopCheck" type="checkbox" href="javascript:;">
                    <label for="alwaysOnTopCheck">Always on-top</label> -->
                </div>
            </div>
            <div class="pure-u-1-2">
                <div id="exitLinkWrapper">
                    <button id="exitLink" class="simpleButton"><span class="keyText">Quit</span><span class="keyTextAlt">Q (3x)</span></button>
                </div>
            </div>
            <div class="pure-u-1-1">
                <div class="center">
                    <h2 class="topText"><span id="topTextHeader">ATV Remote</span>
                        <span id="topTextKBLink">
                            <a href="#" onclick="openKeyboardClick(event)">
                                <span style="display:inline-block">
                                    <span class="keyText">Open Keyboard</span>
                                    <span class="keyTextAlt">K</span>
                                </span>
                            </a>
                        </span>    
                    </h2>
                    <div id="initText"> 
                        <p>If this is the first time this program has started, please be patient. It may take up to five minutes to get set up.</p>
                        <p>The Python library <strong>pyatv</strong> is being installed in the directory:</p>
                        <p><span id="workingPathSpan"></span></p>
                        <p>This only happens the first time the program is run, it will normally start much more quickly.</p>
                        <p>If you see this message after waiting 5 minutes, review the <strong>atv_pip_install.log</strong> file in the directory above.</p>
                        <div style="text-align:center">
                            <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="main">

            <div id="addNewElements">
                <div id="loader">
                    <div id="pairingLoader"></div>
                </div>
                <div id="pairingElements">

                    <div id="results">
                        <label for="atv_picker">Select a device below to start pairing. You only need to do this once.</label>
                        <select id="atv_picker"></select>
                    </div>
                    <div id="pairCodeElements">
                        <label for="pairCode">Enter the 4 digit code here. This will be displayed on the device you selected.<br><span style="font-size:0.8em">Pairing <span id="pairProtocolName">AirPort</span> credentials (pairing step <span id="pairStepNum">1</span> of 2)</span>
                        <input id="pairCode" type="text" style="text-align: center" maxlength="4" />
                    </label><button onclick="javascript:;" class="simpleButton" id="pairButton">Submit</button>
                    
                    </div>
                    <button id="cancelPairing" class="simpleButton"><span class="keyText">Cancel</span><span class="keyTextAlt">Cancel</span></button>
                </div>
            </div>
            <div id="runningElements">

                <div id="keyMapElement"></div>
                <div class="pure-g">
                    <div class="pure-u-1 pure-u-md-1-4"></div>
                    <div class="pure-u-1 pure-u-md-1-2">
                        <table class="pythonError">
                            <tr>
                                <td></td>
                                <td><span class="pythonErrorHeader">Python not found</span></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td>You must install Python to use this program. Visit python.org to download Python, and make sure to select the option to add Python to the path.</td>
                                <td></td>
                            </tr>
                        </table>
                        <table class="directionTable">
                            <tr>
                                <td>
                                    <div data-key="volume_down" data-tippy-content="Lower Volume" class=" directionCircle volumeKeys"><span class='keyText'><i class="fas fa-volume-down"></i></span><span class='keyTextAlt'>-, _</span></div>
                                </td>
                                <td>
                                    <div data-key="up" data-tippy-content="Up arrow" class="directionArrows directionCircle"><span class='keyText'><i class="fas fa-arrow-up"></i></span><span class='keyTextAlt'>Up</span></div>
                                </td>
                                <td>
                                    <div data-key="volume_up" data-tippy-content="Raise Volume" class=" directionCircle volumeKeys"><span class='keyText'><i class="fas fa-volume-up"></i></span><span class='keyTextAlt'>+, =</span></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div data-key="left" class="directionArrows directionCircle"><span class='keyText'><i class="fas fa-arrow-left"></i></span><span class='keyTextAlt'>Left</span></div>
                                </td>
                                <td>
                                    <div data-key="select" class="selectArrow directionArrows directionCircle"><span class='keyText'>Select</span><span class='keyTextAlt'>Enter</span></div>
                                </td>
                                <td>
                                    <div data-key="right" class="directionArrows directionCircle"><span class='keyText'><i class="fas fa-arrow-right"></i></span><span class='keyTextAlt'>Right</span></div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div data-key="skip_backward" class="directionCircle"><span class='keyText'>Prev</span><span class='keyTextAlt'>P, [</span></div>
                                </td>
                                <td>
                                    <div data-key="down" class="directionArrows directionCircle"><span class='keyText'><i class="fas fa-arrow-down"></i></span><span class='keyTextAlt'>Down</span></div>
                                </td>
                                <td>
                                    <div data-key="skip_forward" class="directionCircle"><span class='keyText'>Next</span><span class='keyTextAlt'>N, ]</span></div>
                                </td>
                            </tr>
                            <tr>
                                <td>

                                </td>
                                <td>

                                </td>
                                <td>

                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="directionCircle" data-key="play_pause"><span class='keyText'>Play</span><span class='keyTextAlt'>Space</span></div>
                                </td>
                                <td>
                                    <div class="directionCircle menuButton" data-key="menu"><span class='keyText'>Menu</span><span class='keyTextAlt'>Esc, <i class="fas fa-backspace"></i></span></div>
                                </td>
                                <td>
                                    <div class="directionCircle" data-key="home"><span class='keyText'>TV</span><span class='keyTextAlt'>T, L</span></div>
                                </td>
                            </tr>
                        </table>

                    </div>
                    <div class="pure-u-1 pure-u-md-1-4"></div>

                    <div class="pure-u-1-12"></div>
                    <div class="pure-u-5-6"></div>
                    <div class="pure-u-1-12"></div>
                </div>

            </div>


            <div id="cmdWrapper">
                <div id="cmdFade"></div>
            </div>

        </div>
        <footer>
            <div class="footer center">
                <h2 id="statusText"></h2>
                <div id="atvDropdownContainer"></div>
            </div>
        </footer>
    </body>
    <script src="web_remote.js"></script>
    <script src="ws_remote.js"></script>

</html>